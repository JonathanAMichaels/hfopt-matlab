function eval_gradient_with_network_trials2 = create_eval_gradient_with_network2(eval_gradient_with_network, weight_cost)
% Written by David Sussillo (C) 2013
eval_gradient_with_network_trials2 = @(net, v_input_, m_target_, forward_pass, training_vs_validation, trial_idxs, all_optional_args, all_simdata, varargin) ...
            eval_trials2(net, v_input_, m_target_, weight_cost, [], [], forward_pass, training_vs_validation, trial_idxs, ...
            all_optional_args, all_simdata, ... 
            0, 0, 0, 0, 0, 0, 1, 0, ...
            [], [], [], [], [], [], eval_gradient_with_network, [], varargin{:});

end